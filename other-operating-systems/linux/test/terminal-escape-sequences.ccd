#!/home/xyh/cicada/play/cicada

(* 
 * 1. LinuxEnvVar $TERM saves the current terminal name
 * 2. /usr/share/terminfo/*/*
 * 3. man console_codes
 * ----------------------------------------------
 * escape [ ``arg'' m
 *  0       reset all attributes to their defaults
 *  1       set bold
 *  2       set half-bright (simulated with color on a color display)
 *  4       set underscore (simulated with color on a color  display)
 *          (the  colors  used  to  simulate dim or underline are set
 *          using ESC ] ...)
 *  5       set blink
 *  7       set reverse video
 *  10      reset selected mapping, display control flag, and  toggle
 *          meta flag (ECMA-48 says "primary font").
 *  11      select null mapping, set display control flag, reset tog‐
 *          gle meta flag (ECMA-48 says "first alternate font").
 *  12      select null mapping, set display control flag, set toggle
 *          meta  flag  (ECMA-48  says "second alternate font").  The
 *          toggle meta flag causes the high bit of a byte to be tog‐
 *          gled before the mapping table translation is done.
 *  21      set normal intensity (ECMA-48 says "doubly underlined")
 *  22      set normal intensity
 *  24      underline off
 *  25      blink off
 *  27      reverse video off
 * 
 *  30      set black foreground
 *  31      set red foreground
 *  32      set green foreground
 *  33      set brown foreground
 *  34      set blue foreground
 *  35      set magenta foreground
 *  36      set cyan foreground
 *  37      set white foreground
 * 
 *  38      set underscore on, set default foreground color
 *  39      set underscore off, set default foreground color
 * 
 *  40      set black background
 *  41      set red background
 *  42      set green background
 *  43      set brown background
 *  44      set blue background
 *  45      set magenta background
 *  46      set cyan background
 *  47      set white background
 *  49      set default background color
 *)


:" [2J"
: TerminalSequence,clearScreen ; defineConstString
: terminal,clearScreen (* -- *)
    'escape' writeChar
    TerminalSequence,clearScreen printString
    Exit
; defineFunction


:" [12;25H"
: TerminalSequence,moveCursor ; defineConstString
: terminal,moveCursor (* -- *)
    'escape' writeChar
    TerminalSequence,moveCursor printString
    Exit
; defineFunction


:" [31m"
: TerminalSequence,red ; defineConstString
: terminal,red (* -- *)
    'escape' writeChar
    TerminalSequence,red printString
    Exit
; defineFunction

:" [1;31m"
: TerminalSequence,bold,red ; defineConstString
: terminal,bold,red (* -- *)
    'escape' writeChar
    TerminalSequence,bold,red printString
    Exit
; defineFunction

:" [1;35m"
: TerminalSequence,bold,magenta ; defineConstString
: terminal,bold,magenta (* -- *)
    'escape' writeChar
    TerminalSequence,bold,magenta printString
    Exit
; defineFunction


:" [36m"
: TerminalSequence,cyan ; defineConstString
: terminal,cyan (* -- *)
    'escape' writeChar
    TerminalSequence,cyan printString
    Exit
; defineFunction

:" [49m"
: TerminalSequence,default,background ; defineConstString
: terminal,default,background (* -- *)
    'escape' writeChar
    TerminalSequence,default,background printString
    Exit
; defineFunction




:" [5m"
: TerminalSequence,blinkOn ; defineConstString
: terminal,blinkOn (* -- *)
    'escape' writeChar
    TerminalSequence,blinkOn printString
    Exit
; defineFunction


:" [25m"
: TerminalSequence,blinkOff ; defineConstString
: terminal,blinkOff (* -- *)
    'escape' writeChar
    TerminalSequence,blinkOff printString
    Exit
; defineFunction


:" [4m"
: TerminalSequence,underlineOn ; defineConstString
: terminal,underlineOn (* -- *)
    'escape' writeChar
    TerminalSequence,underlineOn printString
    Exit
; defineFunction


:" [24m"
: TerminalSequence,underlineOff ; defineConstString
: terminal,underlineOff (* -- *)
    'escape' writeChar
    TerminalSequence,underlineOff printString
    Exit
; defineFunction



:" linux programming is stupid"
: TerminalSequence,linux-programming-is-stupid ; defineConstString
: terminal,say,linux-programming-is-stupid (* -- *)
    terminal,clearScreen
    terminal,moveCursor
    (* terminal,red *)
    terminal,blinkOn
    terminal,underlineOn
    TerminalSequence,linux-programming-is-stupid printString
    terminal,underlineOff
    terminal,blinkOff
    Exit
; defineFunction

terminal,say,linux-programming-is-stupid cr

bye